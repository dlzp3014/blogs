---
layout: post
title:  "Java按位操作符"
date:   2018-07-31 22:20:00
categories: Java 
tags: Java
---

* content
{:toc}
   
Java按位操作符用来操作整数基本数据类型中的bit,即二进制位。按位操作符会对两个参数中对应的为执行布尔代数运算，并最终生成一个结果。[Java按位操作应用](/2018/08/02/java-bitwise-operation-use)




## 计算机计数概念

计算机中的符号数有三种表示方法，即原码、反码和补码。三种表示方法均有符号位和数值位两部分，符号位都是用0表示“正”，用1表示“负”，而数值位，三种表示方法各不相同。而在计算机系统中，数值一律用补码来表示和存储。

### 机器数

数值在计算机中的二进制表示形式就是这个数的机器数。机器数是有符号位的，在计算机中用一个二进制数的最高位存放符号，正数为0，负数为1，如

```java
 [+5]=[00000101](源码)
 [-5]=[10000101](源码)
```

### 源码
一种计算机中对数字的二进制定点表示方法。原码表示法在数值前面增加了一位符号位（即最高位为符号位）：正数该位为0，负数该位为1，其余位表示数值的大小。

### 反码

数值存储的一种，由于补码更能有效表现数字在计算机中的形式，所以多数计算机一般都不采用反码表示数，反码的表示方法如下:
- 正数的反码是其本身
- 负数的反码是在其原码的基础上, 符号位不变，其余各个位取反.

```java
    [+5]=[00000101](源码)=[00000101](反码)
    [-5]=[10000101](源码)=[11111010](反码)
```

### 补码

计算机系统中，数值一律用补码来表示和存储。原因在于，使用补码，可以将符号位和数值域统一处理；同时，加法和减法也可以统一处理。补码的表示方法是:

- 正数的补码就是其本身

- 负数的补码是在其原码的基础上, 符号位不变, 其余各位取反, 最后+1. (即在反码的基础上+1)

```java
    [+5]=[00000101](源码)=[00000101](反码)=[00000101](补码)
    [-5]=[10000101](源码)=[11111010](反码)=[11111011](补码)
```

## 按位运算

### 按位与操作符`&`

如果两个输入位都是1，则按位与操作符生成一个输出位1；否则生成一个输出位0

### 按位或操作符`|`

如果输入位只要有一个1，则按位或操作符生成一个输出位1,；只有在两个输入都都是0的情况下，它才会生成输出位0

### 按位异或操作符`^`

如果输入位的某一个是1，但不全都是1，则按位异或操作符生成一个输出位1

    利用逻辑异或操作可以比较两个数值是否相等，即利用1^1=0,0^0=0的原理

### 按位非操作符`~`

也称取反操作符，属于一元操作符，只对一个操作数进行操作，按位非生成与输入位相反的值。若输入0，则输出1；若输入1，则输出0

### 位移操作符

位移操作符的运算对象也是二进制的位，只可用来处理整数类型。

- 左移操作符`<<`

按照操作符右侧指定的位数将操作符左边的操作数向左移动，在低位补0。  
  
    m << n : 把整数m表示的二进制数左移n位,高位移出n位都舍弃，低位补0.  (此时将会出现正数变成负数的可能)
    `m<<n即在数字没有溢出的前提下，对于正数和负数，左移n位都相当于m乘以2的n次方`

- 有符号右移操作符`>>`
    
按照操作符右侧指定的的位数将操作符左侧的操作数向右移移动。若符号位为正，则在高位插入0(高位全部补0)，若符号位为负(高位全部补1)，则在高位插入1   
    
    m>>n : 把整数m表示的二进制数右移n位,m为正数，高位全部补0；m为负数，高位全部补1   
    m>>n即相当于m除以2的n次方，得到的为整数时，即为结果。如果结果为小数，此时会出现两种情况：
        如果m为正数，得到的商会无条件的舍弃小数位；
        如果m为负数，舍弃小数部分，然后把整数部分加+1得到位移后的值。


- 无符号右移位操作符`>>>`

无论正负都在符号位插入0  
    
    m>>>n：整数m表示的二进制右移n位，不论正负数，高位都补0

## 总结
通过位运算会比程序代码运算会快很多，因为位运算直接运算的是计算机底层的二进制机器操作指令，而程序代码运算最终也是要转成计算机可识别的二进制操作指令才能执行，位运算可以理解为省了中间转换的操作，处理器可以直接操作
 




